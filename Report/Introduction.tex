\section{Introduction} \label{sec:intro}

The problem addressed in this project is the the Sports Tournament Scheduling (STS). We approach it using Constraint Programming (CP), SAT solvers, Satisfiability Modulo Theory (SMT), and Mixed Integer Linear Programming (MILP). All the developed models share a common formalization, described in this section.

\paragraph{Input Parameters.}
\begin{itemize}
    \item $n$: Number of teams (an even integer)
    \item $w = n-1$: Number of weeks
    \item $p = \frac{n}{2}$: Number of periods 
    \item Teams are indexed by $t \in \{1, \ldots, n\} = T$
    \item Weeks are indexed by $w \in \{1,\ldots, n-1\} = W$
    \item Periods are indexed by $p \in \{1, \ldots, n/2\} = P$
\end{itemize}


\subsection{Objective variable.}
The objective function is the same across all proposed approaches. Specifically, we aim to minimize the maximum absolute difference between the number of home and away matches played by any team:
\[
M = \max_{t \in T} |H_t - A_t|
\]

where \(H_t\) denotes the number of home games of team \(t\), \(A_t\) denotes the number of away games of team \(t\). The objective variable is bounded between a lower limit of $1$ and an upper limit of $n-1$.

Moreover, initially, we considered an alternative formulation: 
\[
M = \sum_{t \in T} |H_t - A_t|,
\]
but empirical evaluation showed that minimizing the maximum imbalance (first formulation) consistently produced significantly better results across all the techniques used.

\subsection{Constraints.}

All models adhere to the following fundamental constraints:
\begin{itemize}
\item every team plays with every other team only once;
\item every team plays once a week;
\item exactly one match is scheduled in each period of every week;
\item every team plays at most twice in the same period over the tournament.
\end{itemize}

\subsection{Pre-solving with the Circle Method.}
\label{CircleMatching}
In each of the four approaches addressed in this report we used a common pre-processing step that helped improving the quality of the found solutions. This is because we avoid additional decision variables by precomputing which teams $(i, j)$ play in each week $w$ using the fast and classical \emph{circle method} for round-robin tournaments \cite{dewerra1999}.

The circle method, is a constructive procedure for generating round-robin tournament schedules in which each team must play every other team exactly once. The method begins by arranging all teams in a circular formation, fixing one team, the pivot, in a constant position, while the remaining teams are placed around it. In each week, the teams are paired according to their positions in the circle, where each team plays against the team directly opposite to it. After every week, all teams except the fixed one are rotated clockwise by one position, producing a new set of pairings for the following week. This process continues until all the weeks have been completed. By construction two core constraints of the problem are satisfied:
\begin{itemize}
    \item every team plays against every other team exactly once
    \item every team plays once a week.
\end{itemize}

Example for $n = 6$:
\[
\text{Week 1: } (6,1), (2,5), (3,4) \quad \text{Week 2: } (6,2), (3,1), (4,5), \dots
\]

\subsection{Work division}
The work has been roughly split in the following way: Cotiƒç did the CP part, Centanni worked on SAT, Uskov did the SMT part and Lodi completed the MILP part.
